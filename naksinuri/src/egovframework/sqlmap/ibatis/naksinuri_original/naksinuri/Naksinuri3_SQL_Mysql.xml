<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Naksi3">

	<typeAlias  alias="egovMap"      type = "egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="naksinuriVO" type="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriVO"/>	
	<typeAlias alias="NaksinuriSanupVO" type="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriSanupVO"/>	
	<typeAlias alias="naksinurifileVO" type="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriFileVO"/>
	<typeAlias alias="eventVO" type="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriEventVO"/>
	<typeAlias alias="naksinurizisikVO" type="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriZisikinVO"/>
	<typeAlias alias="fishesVO" type="egovframework.naksinuri_original.let.naksinuri.service.FishesVO"/>


	<select id="campaign_list" resultClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIBOARD
			  WHERE BO_TYPE = #bo_type# AND BO_TRASH = '0'
			  AND date_add(BO_END_DT,interval +1 day) <![CDATA[>=]]> NOW()
			  
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="bo_content" property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIBOARD N LEFT JOIN LETTNFILEDETAIL L ON N.BO_MAIN_IMG = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE BO_TYPE = #bo_type# AND BO_TRASH = '0'
				AND date_add(BO_END_DT,interval +1 day) <![CDATA[>=]]> NOW()
			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="bo_content"  property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
				</isEqual>
		  </isNotEmpty>
		  		GROUP BY bo_sn
		  
				ORDER BY bo_sn DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	</select>
	
	<select id="campaign_endlist" resultClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIBOARD
			  WHERE BO_TYPE = #bo_type# AND BO_TRASH='0'
			  AND	date_add(BO_END_DT,interval +1 day) <![CDATA[<]]> NOW()
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="bo_content" property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIBOARD N LEFT JOIN LETTNFILEDETAIL L ON N.BO_MAIN_IMG = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE BO_TYPE = #bo_type# AND BO_TRASH='0'
 				AND date_add(BO_END_DT,interval +1 day) <![CDATA[<]]> NOW()
			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="bo_content"  property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
				</isEqual>
		  </isNotEmpty>
		  		GROUP BY bo_sn
		  
				ORDER BY bo_sn DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
		
	</select>
	
	
	<select id="campaign_trash" resultClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIBOARD
			  WHERE BO_TYPE = #bo_type# AND BO_TRASH = '1'
			  AND date_add(BO_END_DT,interval +1 day) <![CDATA[>=]]> NOW()
			  
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="bo_content" property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIBOARD N LEFT JOIN LETTNFILEDETAIL L ON N.BO_MAIN_IMG = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE BO_TYPE = #bo_type# AND BO_TRASH = '1'
				AND date_add(BO_END_DT,interval +1 day) <![CDATA[>=]]> NOW()
			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="bo_content"  property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
				</isEqual>
		  </isNotEmpty>
		  		GROUP BY bo_sn
		  
				ORDER BY bo_sn DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	</select>
	
	
	
	<select id="campaign_endtrash" resultClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIBOARD
			  WHERE BO_TYPE = #bo_type# AND BO_TRASH = '1'
			  AND date_add(BO_END_DT,interval +1 day) <![CDATA[<]]> NOW()
			  
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="bo_content" property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIBOARD N LEFT JOIN LETTNFILEDETAIL L ON N.BO_MAIN_IMG = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE BO_TYPE = #bo_type# AND BO_TRASH = '1'
				AND date_add(BO_END_DT,interval +1 day) <![CDATA[<]]> NOW()
			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="bo_subcon" property="searchType">
					AND	(BO_SUBJECT LIKE "%$searchText$%"
					OR 	BO_CONTENT LIKE "%$searchText$%")
			  	</isEqual>	
			  	<isEqual compareValue="bo_subject" property="searchType">
					AND BO_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="bo_name" property="searchType">
					AND BO_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="bo_content"  property="searchType">
					AND BO_CONTENT LIKE "%$searchText$%"
				</isEqual>
		  </isNotEmpty>
		  		GROUP BY bo_sn
		  
				ORDER BY bo_sn DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	</select>
    <insert id="insert_VOC">
			<![CDATA[
			INSERT INTO NAKSINURIVOICEOFCUSTOMER
		  (
			VOC_SUBJECT,
			VOC_CONTENT,
			VOC_INSERT_DT,
			VOC_NAME,
			VOC_ATCH_FILE,
			VOC_TYPE,
			VOC_PHONE,
			VOC_PHONE1,
			VOC_PHONE2,
			VOC_PHONE3,
			VOC_EMAIL1,
			VOC_EMAIL2,
			VOC_EMAIL,
			VOC_PWD,
			VOC_ISSECRET,
			VOC_ANSWER_CONTENT,
			VOC_ISANSWER,
			VOC_IS_MBER_NTT,
			VOC_MBER_ID
		 )
		 VALUES
		 (
			#voc_subject#,
			#voc_content#,
			SYSDATE(),
			#voc_name#,
			#voc_atch_file#,
			#voc_type#,
			#voc_phone#,
			#voc_phone1#,
			#voc_phone2#,
			#voc_phone3#,
			#voc_email1#,
			#voc_email2#,
			#voc_email#,
			#voc_pwd#,
			#voc_issecret#,
			"",
			0,
			#voc_is_mber_ntt#,
			#voc_mber_id#
		)		
		
			]]>
	
	</insert>
	
	<select id="voc_list" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO">
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIVOICEOFCUSTOMER
			   WHERE VOC_NO IS NOT NULL AND VOC_TRASH = '0'
			  <isNotEmpty property="searchText">
			  
			  	<isEqual compareValue="voc_subject" property="searchType">
					AND VOC_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>

			  	<isEqual compareValue="voc_name" property="searchType">
					AND VOC_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="voc_type" property="searchType">
					AND VOC_TYPE LIKE "%$searchText$%"
			  	</isEqual>	

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIVOICEOFCUSTOMER N LEFT JOIN LETTNFILEDETAIL L ON N.VOC_ATCH_FILE = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE VOC_NO IS NOT NULL AND VOC_TRASH = '0'
			
			  <isNotEmpty property="searchText">
			  
			  	<isEqual compareValue="voc_subject" property="searchType">
					AND VOC_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="voc_name"  property="searchType">
					AND VOC_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="voc_type"  property="searchType">
					AND VOC_TYPE LIKE "%$searchText$%"
			  	</isEqual>	
			
		  </isNotEmpty>
		  		GROUP BY voc_no
		  
				ORDER BY voc_no DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
		
	</select>	
	
	<select id="voc_trash" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO">
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIVOICEOFCUSTOMER
			   WHERE VOC_NO IS NOT NULL AND VOC_TRASH = '1'
			  <isNotEmpty property="searchText">
			  
			  	<isEqual compareValue="voc_subject" property="searchType">
					AND VOC_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>

			  	<isEqual compareValue="voc_name" property="searchType">
					AND VOC_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="voc_type" property="searchType">
					AND VOC_TYPE LIKE "%$searchText$%"
			  	</isEqual>	

			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIVOICEOFCUSTOMER N LEFT JOIN LETTNFILEDETAIL L ON N.VOC_ATCH_FILE = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE VOC_NO IS NOT NULL AND VOC_TRASH = '1'
			
			  <isNotEmpty property="searchText">
			  
			  	<isEqual compareValue="voc_subject" property="searchType">
					AND VOC_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="voc_name"  property="searchType">
					AND VOC_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="voc_type"  property="searchType">
					AND VOC_TYPE LIKE "%$searchText$%"
			  	</isEqual>	
			
		  </isNotEmpty>
		  		GROUP BY voc_no
		  
				ORDER BY voc_no DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
		
	</select>	
	
	<delete id="deleteVOC">
		<![CDATA[
		DELETE 
		FROM NAKSINURIVOICEOFCUSTOMER
	  	WHERE VOC_NO = #voc_no#
		]]>
	</delete>
	
	<select id="voc_findCorp" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO">
	   SELECT A.*
		FROM NAKSINURIVOICEOFCUSTOMER A
		WHERE VOC_NO = #voc_no#;
	
	</select>
	
	<select id="va_file" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriPolicyVO">
		<![CDATA[
		SELECT  VOC_NO, VOC_ATCH_FILE, FILE_SN, ORIGNL_FILE_NM, FILE_SIZE, FILE_STRE_COURS
		FROM	NAKSINURIVOICEOFCUSTOMER A ,LETTNFILEDETAIL B
		WHERE VOC_NO = #voc_no#
		AND A.VOC_ATCH_FILE = B.ATCH_FILE_ID
		
		]]>
	</select>
	
		<select id="bopass_find" resultClass="egovframework.naksinuri_original.let.naksinuri.service.BoardVO">
		<![CDATA[
		SELECT  BO_PASS
		FROM	NAKSINURIBOARD
		WHERE BO_SN = #bo_sn#;
		]]>
	</select>
	
	<select id="news_list" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURINEWSAPI
			  WHERE ISDEL = '0'
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURINEWSAPI B, (SELECT @RNUM := 0) R
				WHERE ISDEL = '0'
			 	
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="news_list_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURINEWSAPI
			  WHERE MID IS NOT NULL AND ISDEL = '0'
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURINEWSAPI B, (SELECT @RNUM := 0) R
				  WHERE MID IS NOT NULL AND ISDEL = '0'
			 	
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="news_trash_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURINEWSAPI
			  WHERE MID IS NOT NULL AND ISDEL = '1'
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURINEWSAPI B, (SELECT @RNUM := 0) R
				  WHERE MID IS NOT NULL AND ISDEL = '1'
			 	
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="news_findCorp" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriNewsVO">
		<![CDATA[
	 SELECT * from NAKSINURINEWSAPI
		WHERE MID = #mid#;
	]]>
	</select>
	
	
	<delete id="deleteNews">
	
		<![CDATA[
		DELETE FROM
		NAKSINURINEWSAPI
		WHERE MID = #mid#;
		]]>
	</delete>
	
	
	
	<update id="updateNews">
        <![CDATA[
            UPDATE NAKSINURINEWSAPI 
            SET TITLE      =   #title#,  
            	CATEGORY   =   #category#,        
				WRITER_NAME=  #writer_name#,        	
				LINK   	   =   #link#       	                 	
            WHERE MID   =   #mid#			
        ]]>                      			
    </update>	
	
	
	
	<insert id="insertNews">
	<![CDATA[
	INSERT INTO NAKSINURINEWSAPI
	(	
			TITLE,
			LINK,
			REGDATE,
			CATEGORY,
			WRITER_NAME
		) 
	VALUES (
			#title#,
			#link#,
			SYSDATE(),
			#category#,
			#writer_name#
			)
		]]>
	</insert>
	
	
	
	<select id="angling_list" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE ISDEL = '0' AND FTV = '1'
			 
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				WHERE ISDEL = '0' AND FTV = '1'
			
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="angling_river_list" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE ISDEL = '0' AND CATEGORY = '민물' AND FTV='0'
			  
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				WHERE ISDEL = '0' AND CATEGORY = '민물' AND FTV = '0'
			  <isNotEmpty property="category">
				 AND CATEGORY = #category#
			  </isNotEmpty>
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="angling_sea_list" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE ISDEL = '0' AND CATEGORY = '바다' AND FTV = '0'
		
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				WHERE ISDEL = '0' AND CATEGORY = '바다' AND FTV = '0'
	
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="angling_lure_list" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE ISDEL = '0' AND CATEGORY = '루어' AND FTV = '0'
			  
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				WHERE ISDEL = '0' AND CATEGORY = '루어' AND FTV = '0'
			  
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="angling_list_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE MID IS NOT NULL AND FTV='1' AND ISDEL ='0'
			   <isNotEmpty property="category">
				 AND CATEGORY = #category#
			  </isNotEmpty>
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				  WHERE MID IS NOT NULL AND FTV = '1' AND ISDEL ='0'
			  <isNotEmpty property="category">
				 AND CATEGORY = #category#
			  </isNotEmpty>
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	
	
	
	<select id="angling_trash_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE MID IS NOT NULL AND FTV='1' AND ISDEL='1'
			   <isNotEmpty property="category">
				 AND CATEGORY = #category#
			  </isNotEmpty>
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>

			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
				  WHERE MID IS NOT NULL AND FTV = '1' AND ISDEL='1'
			  <isNotEmpty property="category">
				 AND CATEGORY = #category#
			  </isNotEmpty>
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
<!-- 	관리자 조항정보 리스트 가져온다 -->
	<select id="angling_river_list_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE MID IS NOT NULL AND CATEGORY = #category# AND FTV = '0' AND ISDEL = '0'
			  
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
			    WHERE MID IS NOT NULL AND CATEGORY = #category# AND FTV = '0' AND ISDEL = '0'
			  
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<select id="angling_river_trash_admin" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
			SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIFTVAPI
			  WHERE MID IS NOT NULL AND CATEGORY = #category# AND FTV = '0' AND ISDEL = '1'
			  
			  <isNotEmpty property="searchText">
				
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				<isEqual compareValue="body" property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  </isNotEmpty>
			  ) AS TOT_CNT,B.*
				FROM	NAKSINURIFTVAPI B, (SELECT @RNUM := 0) R
			    WHERE MID IS NOT NULL AND CATEGORY = #category# AND FTV = '0' AND ISDEL = '1'
			  
			  <isNotEmpty property="searchText">
			 	
			  	<isEqual compareValue="title" property="searchType">
					AND TITLE LIKE "%$searchText$%"
			  	</isEqual>
			  	<isEqual compareValue="writer_name" property="searchType">
					AND WRITER_NAME LIKE "%$searchText$%"
			  	</isEqual>
				 <isEqual compareValue="body"  property="searchType">
					AND BODY LIKE "%$searchText$%"
			  	</isEqual>
			  	
			
		  </isNotEmpty>
		  		GROUP BY mid
		  
				ORDER BY REGDATE DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
	
	</select>
	
	<update id="angling_uphit">
		UPDATE  NAKSINURIFTVAPI
		SET VIEWS=VIEWS +1 
		WHERE MID   =   #mid#	
	</update>
	
	
	<select id="angling_findCorp" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
		<![CDATA[
		SELECT  *
		FROM	NAKSINURIFTVAPI
		WHERE MID = #mid#
		]]>
	</select>

	
	<select id="angling_next" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
		<![CDATA[
		SELECT  *
		FROM	NAKSINURIFTVAPI
		WHERE  MID  > #mid# AND ISDEL='0'
		ORDER BY MID ASC  limit 1
		
		
		]]>
	</select>
	
	<select id="angling_prev" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriAnglingVO">
		<![CDATA[
		SELECT  *
		FROM	NAKSINURIFTVAPI
		WHERE  MID  < #mid# and ISDEL = '0'
		ORDER BY MID DESC  limit 1
		
		
		]]>
	</select>
	
	<update id="deleteAngling">
		 <![CDATA[
		 	UPDATE NAKSINURIFTVAPI
		 	SET ISDEL = '1'
		 	WHERE MID = #mid#
		 ]]>
	</update>
	
	
	<delete id="delete_anglingtrash">
		<![CDATA[
		    
		DELETE 
		FROM NAKSINURIFTVAPI  
		
	  	WHERE MID = #mid#

		]]>
	</delete>
	
	<update id="updateAngling">
        <![CDATA[
            UPDATE NAKSINURIFTVAPI 
            SET TITLE      =   #title#,          
				WRITER_NAME=  #writer_name#,
				BODY       =  #body#, 	
				CATEGORY   =   #category#,  
				FTV  	   =  #ftv#     	                 	
            WHERE MID   =   #mid#			
        ]]>                      			
    </update>	
	
	
	<insert id="insertAngling">
	<![CDATA[
	INSERT INTO NAKSINURIFTVAPI
	(	
			TITLE,
			WRITER_NAME,
			BODY,
			CATEGORY,
			FTV,
			REGDATE
		) 
	VALUES (
			#title#,
			#writer_name#,
			#body#,
			#category#,
			#ftv#,
			SYSDATE()
			)
		]]>
	</insert>
	
	
	
	<select id="userMainimg_find" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
	 SELECT A.*, B.ORIGNL_FILE_NM, B.FILE_SN
		FROM NAKSINURIUSERMAINIMG A
		LEFT JOIN LETTNFILEDETAIL B ON A.IMG_CONT = B.ATCH_FILE_ID
		WHERE IMG_NO = #img_no#;
	]]>
	</select>
	
	
	
	
	<select id="mainimg_list" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIUSERMAINIMG
			  WHERE IMG_NO IS NOT NULL AND IMG_TRASH='0'

			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="img_subject" property="searchType">
					AND IMG_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>	
			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIUSERMAINIMG N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE IMG_NO IS NOT NULL AND IMG_TRASH='0'
			 
			  <isNotEmpty property="searchText">
			  	
				<isEqual compareValue="img_subject" property="searchType">
					AND IMG_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
					  		
		     </isNotEmpty>
		  		GROUP BY IMG_NO
		  
				ORDER BY IMG_NO DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
		
	</select>
	
	<select id="mainimg_trash" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO" >
		SELECT A.*
		FROM   (SELECT  @RNUM:=@RNUM+1 AS RN
			  ,(SELECT COUNT(*) 
			  FROM NAKSINURIUSERMAINIMG
			  WHERE IMG_NO IS NOT NULL AND IMG_TRASH='1'

			
			  <isNotEmpty property="searchText">
			  	<isEqual compareValue="img_subject" property="searchType">
					AND IMG_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>	
			  </isNotEmpty>
			  ) AS TOT_CNT, N.*	,L.ORIGNL_FILE_NM	
				FROM	NAKSINURIUSERMAINIMG N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID, (SELECT @RNUM := 0) R
				WHERE IMG_NO IS NOT NULL AND IMG_TRASH='1'
			 
			  <isNotEmpty property="searchText">
			  	
				<isEqual compareValue="img_subject" property="searchType">
					AND IMG_SUBJECT LIKE "%$searchText$%"
			  	</isEqual>
					  		
		     </isNotEmpty>
		  		GROUP BY IMG_NO
		  
				ORDER BY IMG_NO DESC) A

		 WHERE RN BETWEEN (#pageIndex#-1)*#pageUnit#+1 AND #pageIndex# * #pageUnit#
		
	</select>
	
	<insert id="insert_usermain_img">
	
	INSERT INTO NAKSINURIUSERMAINIMG
	(	
		IMG_SUBJECT,
		IMG_LINK,
		MOBILE_LINK,
		MENU_CATEGORY,		
		IMG_CONT,
		M_IMG_CONT,
		UPDATEDATE,
		ATCH_FILE,
		IMG_STA
		
	) 
	VALUES 
	(
		#img_subject#,
		#img_link#,
		#mobile_link#,
		#menu_category#,		
		#img_cont#,
		#m_img_cont#,
		SYSDATE(),
		#atch_file#,
		#img_sta#		
	)
	
	</insert>


	<select id="userMain_img" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
		SELECT  IMG_NO, IMG_CONT,FILE_SN,ORIGNL_FILE_NM, FILE_SIZE, FILE_STRE_COURS
		FROM	NAKSINURIUSERMAINIMG A, LETTNFILEDETAIL B
		WHERE IMG_NO = #img_no#
		AND A.IMG_CONT = B.ATCH_FILE_ID
		]]>
	</select>

	<select id="mobile_userMain_img" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
		SELECT  IMG_NO,M_IMG_CONT,FILE_SN,ORIGNL_FILE_NM, FILE_SIZE, FILE_STRE_COURS
		FROM	NAKSINURIUSERMAINIMG A, LETTNFILEDETAIL B
		WHERE IMG_NO = #img_no#
		AND A.M_IMG_CONT = B.ATCH_FILE_ID
		AND A.M_IMG_CONT != ''
		]]>
	</select>
	
	<select id="mobile_userMain_attach" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
		SELECT  IMG_NO,M_IMG_CONT,FILE_SN,ORIGNL_FILE_NM, FILE_SIZE, FILE_STRE_COURS
		FROM	NAKSINURIUSERMAINIMG A, LETTNFILEDETAIL B
		WHERE IMG_NO = #img_no#
		AND A.ATCH_FILE = B.ATCH_FILE_ID
		]]>
	</select>
	
	<update id="update_userMainImg">
		
	UPDATE  NAKSINURIUSERMAINIMG
		SET	IMG_SUBJECT   =	#img_subject#,
			IMG_LINK   =	#img_link#,
			MOBILE_LINK =   #mobile_link#,
			MENU_CATEGORY =	#menu_category#,
			IMG_CONT      =	#img_cont#,
			M_IMG_CONT 	  = #m_img_cont#,
			UPDATEDATE    = SYSDATE(),
			IMG_STA   	  =	#img_sta#
	 		WHERE IMG_NO   =   #img_no#	;
		
	</update>
	
	
	<select id="mainimg1" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
 			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE  
 			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간1' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]> 
	</select>
	

	
	
	<select id="mainimg2" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간2' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	
	<select id="mainimg3" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간3' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mainimg4" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간4' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="headimg" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지상단' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_headimg" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지상단' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mainbanner1" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너1' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mainbanner2" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너2' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mainbanner3" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너3' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="rightbanner" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측이미지' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainimg1" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
 			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE  
 			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간1' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]> 
	</select>
	
	<select id="main_scrollimg" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
 			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE  
 			IMG_STA = '1' AND MENU_CATEGORY = '메인스크롤' GROUP BY img_no ORDER BY img_no DESC) A;  
 		]]> 
	</select>
	
	<select id="main_popup" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
 			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE  
 			IMG_STA = '1' AND MENU_CATEGORY = '팝업' GROUP BY img_no ORDER BY img_no DESC) A ;  
 		]]> 
	</select>
	
	<select id="mobile_mainimg2" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간2' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainimg3" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간3' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainimg4" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '이미지중간4' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainbanner1" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너1' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainbanner2" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너2' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_mainbanner3" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측배너3' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<select id="mobile_rightbanner" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriMainImgVO">
		<![CDATA[
			SELECT A.* FROM (SELECT N.* ,L.ORIGNL_FILE_NM FROM NAKSINURIUSERMAINIMG  
 			N LEFT JOIN LETTNFILEDETAIL L ON N.M_IMG_CONT = L.ATCH_FILE_ID WHERE 
			IMG_STA = '1' AND MENU_CATEGORY = '우측이미지' AND IMG_TRASH ='0' GROUP BY img_no ORDER BY img_no DESC) A  LIMIT 1;  
 		]]>
	</select>
	
	<delete id="delete_mainimg">
		<![CDATA[
		    
		DELETE 
		FROM NAKSINURIUSERMAINIMG  
		
	  	WHERE IMG_NO = #img_no#

		]]>
	</delete>
	
	
	
	<insert id="insert_staticInfo">
	
	INSERT INTO NAKSINURI_STATISTICS
	(	
		CLIENT_IP,
		STATISTIC_OS,
		STATISTIC_BROWSER,
		BO_TYPE,	
		BO_NAME,	
		DATE_TIME,
		PATH,
		CATEGORY_TYPE,
		CATEGORY_NAME,
		PATH_TYPE,
		CATEGORY_GROUP_TYPE,
		CATEGORY_GROUP_NAME,
		FUNNELS_LABEL,
		FUNNELS_URL,
		FUNNELS_KEYWORD			
	) 
	VALUES 
	(
		#client_ip#,
		#statistic_os#,
		#browser#,
		#bo_type#,
		#bo_name#,
		SYSDATE(),
		#path#,
		#category_type#,
		#category_name#,
		#path_type#,
		#category_group_type#,
		#category_group_name#,
		#funnels_label#,
		#funnels_url#,
		#funnels_keyword#		
	)
	
	</insert>
	
	
	<select id="get_boardcnt" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT BO_TYPE ,COUNT(*),DATE_FORMAT(date_time,'%h')
			FROM NAKSINURI_STATISTICS
			WHERE DATE_FORMAT(date_time,'%Y/%m/%d') = DATE_FORMAT(SYSDATE(),'%Y/%m/%d')
			GROUP BY BO_TYPE
			ORDER BY COUNT(*) DESC
			LIMIT 4;
 		]]>
	</select>
	
	<!-- 	7일 -->
	<select id="get_visitcnt" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT COUNT(A.client_ip) as CNT FROM (
			select client_ip,DATE_FORMAT(date_time,'%Y-%m-%d') AS f_date_time from NAKSINURI_STATISTICS where bo_type='main' and date_time between SYSDATE()-interval $searchType$ and SYSDATE() GROUP BY client_ip, f_date_time
			) AS A
 		]]>
 		<!-- 
 		select count(*) as CNT from NAKSINURI_STATISTICS where bo_type='main' and date_time between SYSDATE()-interval $searchType$ and SYSDATE()
 		 -->
	</select>
	<!-- 	7일 -->
	<select id="get_pagecnt" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			select count(*) as CNT from NAKSINURI_STATISTICS where bo_type !='main' and bo_type IS NOT NULL and date_time between SYSDATE()-interval $searchType$ and SYSDATE() 
 		]]>
	</select>
	
	
	<select id="get_boardtop10" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS WHERE BO_TYPE !='main' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL $searchType$ AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE bo_type !='main' 
			and date_time between SYSDATE()-interval $searchType$ and SYSDATE() 
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC LIMIT 10		
 		]]>
	</select>

	
	<select id="get_boardtop10_self" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS WHERE BO_TYPE !='main' and date_time between #start_dt# AND #end_dt#))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE bo_type !='main'          
			and date_time between #start_dt# AND #end_dt#
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC LIMIT 10		
 		]]>
	</select>
	
	<select id="get_board_desc" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS WHERE BO_TYPE !='main' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 7 DAY AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE bo_type !='main' 
			and date_time between SYSDATE()-interval 7 day and SYSDATE() 
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC		
 		]]>
	</select>
	<!-- 	1일 -->
	<select id="get_boardday_desc" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS WHERE BO_TYPE !='main'  AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 DAY AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE bo_type !='main' 
			and date_time between SYSDATE()-interval 1 day and SYSDATE() 
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC		
 		]]>
	</select>
	<!-- 	30일 -->
	<select id="get_boardmonth_desc" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS WHERE BO_TYPE !='main'  AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 MONTH AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE bo_type !='main' 
			and date_time between SYSDATE()-interval 1 MONTH and SYSDATE() 
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC		
 		]]>
	</select>
	
	<select id="get_boardself_desc" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
			WHERE date_time between #start_dt# AND #end_dt#))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS 
			WHERE date_time between #start_dt# AND #end_dt#
			GROUP BY BO_TYPE ORDER BY COUNT(*) DESC	
 		]]>
	</select>
	
	
	<!-- os	top5 7일 -->
	<select id="getpcOStop5" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS NOT LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 7 DAY AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS NOT LIKE '%Mobile%' and date_time between SYSDATE()-interval 7 day 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<select id="getmobileOStop5" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 7 DAY AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS LIKE '%Mobile%' and date_time between SYSDATE()-interval 7 day 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<!-- os	top5 1일 -->
	<select id="getpcOStop5day" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS NOT LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 DAY AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS NOT LIKE '%Mobile%' and date_time between SYSDATE()-interval 1 day 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<select id="getmobileOStop5day" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 DAY AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS LIKE '%Mobile%' and date_time between SYSDATE()-interval 1 day 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<!-- os	top5 30일 -->
	<select id="getpcOStop5month" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS NOT LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 MONTH AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS NOT LIKE '%Mobile%' and date_time between SYSDATE()-interval 1 MONTH 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<select id="getmobileOStop5month" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS LIKE '%Mobile%' AND DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 MONTH AND SYSDATE()))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS LIKE '%Mobile%' and date_time between SYSDATE()-interval 1 MONTH 
		and SYSDATE() GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<!-- os	top5 직접입력 -->
	<select id="getpcOStop5self" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS NOT LIKE '%Mobile%' AND DATE_TIME BETWEEN #start_dt# AND #end_dt#))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS NOT LIKE '%Mobile%' and date_time between #start_dt# 
		and #end_dt# GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	<select id="getmobileOStop5self" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT STATISTIC_OS,COUNT(*) AS CNT,BO_NAME,(COUNT(*)/(SELECT COUNT(*) FROM NAKSINURI_STATISTICS 
		WHERE STATISTIC_OS LIKE '%Mobile%' AND DATE_TIME BETWEEN #start_dt# AND #end_dt#))*100 AS 
		PRCNT FROM NAKSINURI_STATISTICS WHERE STATISTIC_OS LIKE '%Mobile%' and date_time between #start_dt#
		and #end_dt# GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5; 	
 		]]>
	</select>
	
	
	<select id="get_visitcnt_myself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			select count(*) as CNT from NAKSINURI_STATISTICS where bo_type='main' and
			 date_time between 
				#start_dt#
				  AND		  
				#end_dt#			  
 			]]>
	</select>
	<select id="get_pagecnt_myself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			select count(*) as CNT from NAKSINURI_STATISTICS where bo_type IS NOT NULL 
			AND DATE_TIME BETWEEN
			#start_dt# AND #end_dt#
 		]]>
	</select>
	

	
	
	
	<select id="getOSstatic" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
				SELECT COUNT(*) AS CNT,STATISTIC_OS
				FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between SYSDATE()-interval 7 day and SYSDATE() 
				GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 10;
 		]]>
	</select>
	
	<select id="getOSstatic_day" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
				SELECT COUNT(*) AS CNT,STATISTIC_OS
				FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between SYSDATE()-interval 1 day and SYSDATE() 
				GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 10;
 		]]>
	</select>
	
	<select id="getOSstatic_month" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
				SELECT COUNT(*) AS CNT,STATISTIC_OS
				FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between SYSDATE()-interval 1 MONTH and SYSDATE() 
				GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 10;
 		]]>
	</select>
	
	<select id="getOSstatic_self" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
				SELECT COUNT(*) AS CNT,STATISTIC_OS
				FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between #start_dt# and #end_dt# 
				GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 10;
 		]]>
	</select>
	

	<select id="getBrowserInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,STATISTIC_BROWSER as browser,(COUNT(*)/(SELECT COUNT(STATISTIC_BROWSER) FROM NAKSINURI_STATISTICS WHERE date_time between SYSDATE()-interval $searchType$ and SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between SYSDATE()-interval $searchType$ and SYSDATE() 
			GROUP BY STATISTIC_BROWSER ORDER BY COUNT(*) DESC LIMIT 6;
		
 		]]>
	</select>
	
	
	<select id="getBrowserInfomyself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
			SELECT STATISTIC_SN,BO_TYPE ,COUNT(*) AS CNT,BO_NAME,STATISTIC_BROWSER as browser,(COUNT(*)/(SELECT COUNT(STATISTIC_BROWSER) FROM NAKSINURI_STATISTICS WHERE date_time between #start_dt# and #end_dt#))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE STATISTIC_BROWSER IS NOT NULL and date_time between #start_dt# and #end_dt#
			GROUP BY STATISTIC_BROWSER ORDER BY COUNT(*) DESC LIMIT 6;
		
 		]]>
	</select>
	
	
	<select id="getOSInfoday" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT COUNT(*) AS CNT,BO_NAME,STATISTIC_OS,(COUNT(*)/(SELECT COUNT(STATISTIC_OS) FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 DAY AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 1 DAY AND SYSDATE() 
			GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5;
		 		]]>
	</select>
	
	<select id="getOSInfoweek" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT COUNT(*) AS CNT,BO_NAME,STATISTIC_OS,(COUNT(*)/(SELECT COUNT(STATISTIC_OS) FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 7 DAY AND SYSDATE()))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 7 DAY AND SYSDATE() 
			GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5;
		 		]]>
	</select>
	
	<select id="getOSInfomonth" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT COUNT(*) AS CNT,BO_NAME,STATISTIC_OS,(COUNT(*)/(SELECT COUNT(STATISTIC_OS) FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 30 DAY AND SYSDATE()))*100 AS PRCNT
 			FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN SYSDATE()-INTERVAL 30 DAY AND SYSDATE() 
			GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5;
		 		]]>
	</select>
	
	<select id="getOSInfomyself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		SELECT COUNT(*) AS CNT,BO_NAME,STATISTIC_OS,(COUNT(*)/(SELECT COUNT(STATISTIC_OS) FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN #start_dt# AND #end_dt#))*100 AS PRCNT
			FROM NAKSINURI_STATISTICS WHERE DATE_TIME BETWEEN #start_dt# AND #end_dt#
			GROUP BY STATISTIC_OS ORDER BY COUNT(*) DESC LIMIT 5;
		 		]]>
	</select>
	
	<select id="getfishCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='industry' OR BO_TYPE='fishjob' OR BO_TYPE='angling' OR BO_TYPE='safe' OR BO_TYPE='lab')
	      AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE() 
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getlessonCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='junior' OR BO_TYPE='gosu' OR BO_TYPE='sense' OR BO_TYPE='binding' OR BO_TYPE='class')
	      AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE() 
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getshareCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='travel' OR BO_TYPE='nuri' OR BO_TYPE='zazu' OR BO_TYPE='usage' OR BO_TYPE='column')
	      AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE() 
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getsosigCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='news' OR BO_TYPE='notice' OR BO_TYPE='congress' OR BO_TYPE='event' OR BO_TYPE='gosi')
	      AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE() 
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getpolicyCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='campaign' OR BO_TYPE='plocation' OR BO_TYPE='policy' OR BO_TYPE='qna' OR BO_TYPE='auditor')
	     AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE()
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getsurveyCntInfo" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='survey')
	      AND date_time BETWEEN SYSDATE() - INTERVAL #searchType# DAY AND SYSDATE()
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getfishCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='industry' OR BO_TYPE='fishjob' OR BO_TYPE='angling' OR BO_TYPE='safe' OR BO_TYPE='lab')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt#
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	
	
	<select id="getfishCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='industry' OR BO_TYPE='fishjob' OR BO_TYPE='angling' OR BO_TYPE='safe' OR BO_TYPE='lab') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	<select id="getlessonCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='junior' OR BO_TYPE='gosu' OR BO_TYPE='sense' OR BO_TYPE='binding' OR BO_TYPE='class')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt# 
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	
	<select id="getlessonCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='junior' OR BO_TYPE='gosu' OR BO_TYPE='sense' OR BO_TYPE='binding' OR BO_TYPE='class') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	
	<select id="getshareCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='travel' OR BO_TYPE='nuri' OR BO_TYPE='zazu' OR BO_TYPE='usage' OR BO_TYPE='column')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt#
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getshareCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='travel' OR BO_TYPE='nuri' OR BO_TYPE='zazu' OR BO_TYPE='usage' OR BO_TYPE='column') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	<select id="getsosigCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		  SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='news' OR BO_TYPE='notice' OR BO_TYPE='congress' OR BO_TYPE='event' OR BO_TYPE='gosi')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt#
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getsosigCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='news' OR BO_TYPE='notice' OR BO_TYPE='congress' OR BO_TYPE='event' OR BO_TYPE='gosi') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	<select id="getpolicyCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='campaign' OR BO_TYPE='plocation' OR BO_TYPE='policy' OR BO_TYPE='qna' OR BO_TYPE='auditor')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt#
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getpolicyCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='campaign' OR BO_TYPE='plocation' OR BO_TYPE='policy' OR BO_TYPE='qna' OR BO_TYPE='auditor') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	<select id="getsurveyCntInfoself" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   SELECT COUNT(*)AS cnt,SUBSTR(DATE_FORMAT(date_time,'%Y%m%d'),5,9)as hours ,bo_name
	      FROM NAKSINURI_STATISTICS WHERE (BO_TYPE='survey')
	      AND DATE_TIME BETWEEN #start_dt# and #end_dt#
	      GROUP BY hours order by date_time asc;
		 		]]>
	</select>
	
	<select id="getsurveyCntInfoself_time" resultClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO" parameterClass="egovframework.naksinuri_original.let.naksinuri.service.NaksinuriStatisticVO">
		<![CDATA[
		   select SUBSTRING(date_time, 12, 2)as hours,count(*) as cnt from NAKSINURI_STATISTICS 
		   where (BO_TYPE='survey') and 
		   date_time between #start_dt# AND #end_dt# group by SUBSTRING(date_time, 12, 2) order by hours asc
		 		]]>
	</select>
	
	

</sqlMap>
